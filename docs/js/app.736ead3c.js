(function(e){function t(t){for(var i,a,c=t[0],s=t[1],l=t[2],u=0,f=[];u<c.length;u++)a=c[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);d&&d(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,a=1;a<n.length;a++){var s=n[a];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},r=[];function a(e){return c.p+"js/"+({"locale-code1":"locale-code1"}[e]||e)+"."+{"locale-code1":"525d2381"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=i);var r,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=a(e);var l=new Error;r=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,n[1](l)}o[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:s})}),12e4);s.onerror=s.onload=r,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var d=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"50b8":function(e,t,n){var i={"./en.json":["f8e2"],"./ru.json":["2b79","locale-code1"]};function o(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],o=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(o,3)}))}o.keys=function(){return Object.keys(i)},o.id="50b8",e.exports=o},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header",{staticClass:"header"},[n("div",{staticClass:"container"},[n("nav",{staticClass:"menu"},[n("h1",{staticClass:"header__title"},[e._v("GeoIP")]),n("LocaleDropdown")],1)])]),n("div",{staticClass:"container"},[n("main",{staticClass:"main"},[n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.fetch()}}},[n("label",{staticClass:"form__label",attrs:{for:"ip"}},[e._v(e._s(e.$t("message.ip_address")))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ip,expression:"ip"},{name:"mask",rawName:"v-mask",value:"###.###.##.##",expression:"'###.###.##.##'"}],class:["form__input",e.$v.ip.$error?"form__input--error":"",e.ip?"form__input--active":""],attrs:{type:"text",id:"ip",placeholder:"0.0.0.0"},domProps:{value:e.ip},on:{input:function(t){t.target.composing||(e.ip=t.target.value)}}}),n("button",{staticClass:"btn",attrs:{type:"submit"}},[e._v(e._s(e.$t("message.get_information")))])]),n("ResultTable"),n("HistoryTable")],1)])])},r=[],a=(n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),c=n("2f62"),s=n("b5ae"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result"},[n("h2",{staticClass:"title"},[e._v("Result")]),n("table",{staticClass:"table"},[n("thead",{staticClass:"table__head"},[n("tr",[n("th",[e._v(e._s(e.$t("message.table.ip_address")))]),n("th",[e._v(e._s(e.$t("message.table.continent")))]),n("th",[e._v(e._s(e.$t("message.table.country")))]),n("th",[e._v(e._s(e.$t("message.table.city")))]),n("th",[e._v(e._s(e.$t("message.table.postcode")))]),n("th",[e._v(e._s(e.$t("message.table.coordinates")))])])]),e.location.ip?n("tbody",{staticClass:"table__body"},[n("tr",[n("td",[e._v(" "+e._s(e.location.ip)+" ")]),n("td",[e._v(" "+e._s(e.continentName)+"/"+e._s(e.location.continent?e.location.continent.code:"—")+" ")]),n("td",[e._v(" "+e._s(e.countryName)+"/"+e._s(e.location.country?e.location.country.iso_code:"—")+" ")]),n("td",[e._v(" "+e._s(e.cityName)+" ")]),n("td",[e._v(" "+e._s(e.location.postal?e.location.postal.code:"—")+" ")]),n("td",[e._v(" "+e._s(e.location.location?e.location.location.latitude:"—")+"/"+e._s(e.location.location?e.location.location.longitude:"—")+" ")])])]):n("tbody",{staticClass:"table__body table__body--empty"},[e._m(0)])])])},u=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",[e._v(" 0.0.0.0 ")]),n("td"),n("td"),n("td"),n("td"),n("td")])}];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={name:"ResultTable",computed:f({},Object(c["c"])({countryName:"getCountryName",continentName:"getContinentName",cityName:"getCityName"}),{},Object(c["e"])({location:"location"}))},p=m,v=(n("d22c"),n("2877")),y=Object(v["a"])(p,l,u,!1,null,"55275bce",null),b=y.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"history"},[n("h2",{staticClass:"title"},[e._v("History")]),n("table",{staticClass:"table"},[n("thead",{staticClass:"table__head"},[n("tr",[n("th",[e._v(e._s(e.$t("message.table.ip_address")))]),n("th",[e._v(e._s(e.$t("message.table.country")))]),n("th",[e._v(e._s(e.$t("message.table.city")))])])]),e.history.length?n("tbody",{staticClass:"table__body"},e._l(e.history,(function(t,i){return n("tr",{key:i},[n("td",[e._v(" "+e._s(t.ip)+" ")]),n("td",[e._v(" "+e._s(e.countryName(i))+"/"+e._s(t.location.country?t.location.country.iso_code:"—")+" ")]),n("td",[e._v(" "+e._s(e.cityName(i))+" ")])])})),0):n("tbody",{staticClass:"table__body table__body--empty"},[e._m(0)])]),n("button",{staticClass:"btn",attrs:{disabled:0===e.history.length},on:{click:e.clearHistory}},[e._v(e._s(e.$t("message.clear_history")))])])},_=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("td",[e._v(" 0.0.0.0 ")]),n("td"),n("td")])}];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={name:"HistoryTable",computed:O({},Object(c["e"])({history:"history"}),{},Object(c["c"])(["getHistoryCountryName","getHistoryCityName"])),methods:O({},Object(c["d"])(["CLEAR_HISTORY"]),{clearHistory:function(){this.CLEAR_HISTORY()},countryName:function(e){return this.getHistoryCountryName(e)},cityName:function(e){return this.getHistoryCityName(e)}})},j=k,w=(n("892b"),Object(v["a"])(j,g,_,!1,null,"1abb942d",null)),N=w.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("a",{staticClass:"dropdown__toggle",class:{active:e.showMenu},on:{click:function(t){return e.toggleMenu()}}},[n("span",{staticClass:"dropdown__name"},[e._v(e._s(e.currentLang))]),n("span",{staticClass:"dropdown__caret",class:{active:e.showMenu}})]),e.showMenu?n("ul",{staticClass:"dropdown__menu"},e._l(e.langs,(function(t){return n("li",{key:t},[n("a",{class:t===e.currentLang?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(n){return e.updateLang(t)}}},[e._v(" "+e._s(t)+" ")])])})),0):e._e()])},S=[],C=(n("d3b7"),n("a925")),E=n("f8e2");i["a"].use(C["a"]);var L=new C["a"]({locale:"en",fallbackLocale:"en",messages:{en:E},formatFallbackMessages:!0}),T=["ru","en"],D=L,A=(L.locale,T);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={data:function(){return{langs:A,currentLang:"en",showMenu:!1}},computed:R({},Object(c["e"])({lang:"lang"})),methods:R({},Object(c["d"])(["UPDATE_LANG"]),{updateLang:function(e){var t=this;this.currentLang=e,this.showMenu=!1,n("50b8")("./".concat(e,".json")).then((function(n){t.$i18n.setLocaleMessage(e,n),t.$i18n.locale=e,t.UPDATE_LANG(e)}))},toggleMenu:function(){this.showMenu=!this.showMenu}}),mounted:function(){this.updateLang(this.lang)}},H=F,G=(n("6b32"),Object(v["a"])(H,P,S,!1,null,"d21b4d62",null)),x=G.exports;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(a["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={name:"app",data:function(){return{ip:""}},validations:{ip:{ipAddress:s["ipAddress"],required:s["required"]}},components:{ResultTable:b,HistoryTable:N,LocaleDropdown:x},computed:M({},Object(c["e"])({location:"location",history:"history",error:"error"})),methods:M({},Object(c["b"])(["GET_LOCATION"]),{},Object(c["d"])(["CLEAR_HISTORY"]),{fetch:function(){if(this.$v.ip.$touch(),this.$v.ip.$invalid)return 0;this.GET_LOCATION(this.ip)}})},q=U,V=(n("cf25"),Object(v["a"])(q,o,r,!1,null,null,null)),Y=V.exports,J=n("0e44"),Q=n("74ca"),z=n("478e"),B=n("2bf2"),K=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_GRAPHQL_HTTP||"https://api.graphloc.com/graphql",W=new Q["a"]({link:new z["a"]({uri:K}),cache:new B["a"]}),X=n("aaaf"),Z=n.n(X);i["a"].use(c["a"]);var ee=new c["a"].Store({strict:!1,plugins:[Object(J["a"])({paths:["history","lang"]})],state:{location:{},isLoading:!1,error:null,history:[],lang:"en"},mutations:{TOGGLE_LOADING:function(e,t){e.isLoading=t},UPDATE_LANG:function(e,t){e.lang=t},UPDATE_LOCATION:function(e,t){e.location=Object.assign({},t.location),e.location.ip=t.ip},UPDATE_ERROR:function(e,t){e.error=t},UPDATE_HISTORY:function(e,t){e.history.unshift(t)},CLEAR_HISTORY:function(e){e.history=[]}},actions:{GET_LOCATION:function(e,t){var n=e.commit;n("TOGGLE_LOADING",!0),W.query({query:Z.a,variables:{ip:t}}).then((function(e){n("UPDATE_LOCATION",{location:e.data.getLocation,ip:t}),n("UPDATE_HISTORY",{location:e.data.getLocation,ip:t}),n("UPDATE_ERROR",null)})).catch((function(e){return n("UPDATE_ERROR",e)})).finally((function(){return n("TOGGLE_LOADING",!1)}))}},getters:{getCountryName:function(e){return e.location.country?e.location.country.names[e.lang]?e.location.country.names[e.lang]:e.location.country.names.en:"—"},getContinentName:function(e){return e.location.continent?e.location.continent.names[e.lang]?e.location.continent.names[e.lang]:e.location.continent.names.en:"—"},getCityName:function(e){return e.location.city?e.location.city.names[e.lang]?e.location.city.names[e.lang]:e.location.city.names.en:"—"},getHistoryCountryName:function(e){return function(t){return e.history[t].location.country?e.history[t].location.country.names[e.lang]?e.history[t].location.country.names[e.lang]:e.history[t].location.country.en:"—"}},getHistoryCityName:function(e){return function(t){return e.history[t].location.city?e.history[t].location.city.names[e.lang]?e.history[t].location.city.names[e.lang]:e.history[t].location.city.en:"—"}}}}),te=n("b6d0"),ne=n("1dce"),ie=n.n(ne);i["a"].use(ie.a),i["a"].use(te["a"]),i["a"].config.productionTip=!1,new i["a"]({store:ee,i18n:D,render:function(e){return e(Y)}}).$mount("#app")},"6b32":function(e,t,n){"use strict";var i=n("b056"),o=n.n(i);o.a},"892b":function(e,t,n){"use strict";var i=n("d0ae"),o=n.n(i);o.a},aaaf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getLocation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"getLocation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"ip"},value:{kind:"Variable",name:{kind:"Name",value:"ip"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"continent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"en"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ru"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"country"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iso_code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"en"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ru"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"city"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"names"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"en"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ru"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"postal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"location"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:393}};n.loc.source={body:"query getLocation($ip: String!){\r\n  getLocation(ip: $ip) {\r\n    continent {\r\n      code\r\n      names {\r\n        en\r\n        ru\r\n      }\r\n    }\r\n    country {\r\n      iso_code\r\n      names {\r\n        en\r\n        ru\r\n      }\r\n    },\r\n    city {\r\n      names {\r\n        en\r\n        ru\r\n      }\r\n    }\r\n    postal {\r\n      code\r\n    }\r\n    location {\r\n      latitude\r\n      longitude\r\n    }\r\n  }\r\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var o={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function a(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,c=new Set;i.forEach((function(e){c.add(e)}));while(c.size>0){var s=c;c=new Set,s.forEach((function(e){if(!a.has(e)){a.add(e);var t=o[e]||new Set;t.forEach((function(e){c.add(e)}))}}))}return a.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),o[e.name.value]=t}}))})(),e.exports=n,e.exports["getLocation"]=a(n,"getLocation")},b056:function(e,t,n){},cf25:function(e,t,n){"use strict";var i=n("fea6"),o=n.n(i);o.a},d0ae:function(e,t,n){},d22c:function(e,t,n){"use strict";var i=n("de31"),o=n.n(i);o.a},de31:function(e,t,n){},f8e2:function(e){e.exports=JSON.parse('{"message":{"ip_address":"IP Address","get_information":"Get information","result":"Result","history":"History","clear_history":"Clear history","table":{"ip_address":"IP address","country":"Country/code","continent":"Continent/code","city":"City","postcode":"Postcode","coordinates":"Coordinates"}}}')},fea6:function(e,t,n){}});
//# sourceMappingURL=app.736ead3c.js.map